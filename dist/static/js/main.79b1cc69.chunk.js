(this["webpackJsonpmelist-chrome-extension"]=this["webpackJsonpmelist-chrome-extension"]||[]).push([[0],{20:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(6),s=n.n(r),o=(n(20),n(3)),i=n(7),u=n.n(i),h=(n(40),n(2));var l=function(e){var t=e.refreshToken,n=e.tabUrl,c=Object(a.useState)(null),r=Object(o.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)(""),m=Object(o.a)(l,2),p=(m[0],m[1]),f=Object(a.useState)(null),b=Object(o.a)(f,2),d=(b[0],b[1]);return Object(a.useEffect)((function(){u.a.post("https://melist-api.herokuapp.com/api/users/auth/refresh_token",{refresh_token:t}).then((function(e){var t=e.data.access_token;p(t),u.a.get("https://melist-api.herokuapp.com/api/users/me",{headers:{Authorization:"Bearer "+t}}).then((function(e){return i(e.data)})).catch((function(e){return d(e)}))})).catch((function(e){return d(e)}))}),t),Object(h.jsxs)("div",{className:"main",children:["Hola! ",s&&s.first_name+"!",Object(h.jsx)("br",{}),n&&"est\xe1s en la pesta\xf1a con URL "+n]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};chrome.cookies.get({url:"https://melist-app.herokuapp.com/summary",name:"refresh-token"},(function(e){e?(console.log(e.value),chrome.tabs.query({active:!0,lastFocusedWindow:!0},(function(t){s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(l,{refreshToken:e.value,tabUrl:t[0].url})}),document.getElementById("root"))}))):s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)("div",{children:"Inicia sesi\xf3n en ME List para utilizar la extensi\xf3n"})}),document.getElementById("root"))})),m()}},[[42,1,2]]]);